---
title: "Reading forecast data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{read_raw_forecast}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<style>
body {
text-align: justify}
</style>

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

One of the most important capabilities of harpIO is reading data from NWP and climate models. The original solution to this task was to have separate functions for different, but related tasks. `read_det_interpolate()` and `read_eps_interpolate()` to read data from multiple files for deterministic and ensemble forecasts respectively and to interpolate to point locations, and `read_grid()` to read gridded data from a single file. This solutions means the user having to learn several functions, each with their own arguments and output structures. There is also a lack of flexibility in, for example, reading from both deterministic and ensemble forecast files at the same time. 

We have attempted to streamline this process and to make it as generic as possible with the `read_forecast()` function, which we hope results in a more strightforward user interface. The function is designed to both read the forecast data from multiple files and, where required, transform the data by interpolation or regridding. This means that the output is always a class harp_fcst list of data frames whether the data are at points, a 2d grid or a vertical cross section. 

Furthermore, many arguments as passed as lists generated by `*_opts()` functions. This means that you can use tab autocompletion to get the correct argument names, and can store various options combinations as variables.

## Example data
For all of these examples we will use data provided in the harpData package, which, if you haven't done so already, you can install with:

```{r eval = FALSE}
remotes::install_github("andrew-MET/harpData")
```


## Deterministic forecasts
The simplest application of `read_forecast()` is to read deterministic forecasts. We can take advantage of a number of default arguments to keep the number of arguments we have to pass to the function to minimum. 


 
```{r setup}
library(harpIO)
```


